<section ng-controller="ZomatoController as zomato">
  <div class="wrapper">
    <div id="search-container">
      <img src="img/fork.png" alt="Fork and spoon" id="fork">
      <div id="search-form">
        <h3>Search by Location</h3>
        <form ng-submit="zomato.searchCities()">
          <input type="text" placeholder="Enter City Name" id="search-input" ng-model="zomato.cityInput">
          <input type="submit" value="Search">
        </form>
      </div>
    </div>
    <div>
      <div id="location-results" ng-if="zomato.isViewLocationResultsActive">
        <ul>
          <li ng-repeat="location in zomato.locationSuggestions" ng-click="zomato.findRestaurants(location.id);">{{location.name}}</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="wrapper" id="gallery" ng-if="zomato.isViewGalleryActive">
    <div id="filter">
      <h3>Narrow Down By Type</h3>
      <p id="cuisine-list">
        <span ng-click="zomato.cuisineSearch = 'all'">All</span>
        <span ng-click="zomato.cuisineSearch = 'american'">American</span>
        <span ng-click="zomato.cuisineSearch = 'breakfast'">Breakfast</span>
        <span ng-click="zomato.cuisineSearch = 'vegetarian'">Vegetarian</span>
        <span ng-click="zomato.cuisineSearch = 'mexican'">Mexican</span>
        <span ng-click="zomato.cuisineSearch = 'pizza'">Pizza</span>
        <span ng-click="zomato.cuisineSearch = 'sushi'">Sushi</span>
        <span ng-click="zomato.cuisineSearch = 'coffee and tea'">Coffee & Tea</span>
        <span ng-click="zomato.cuisineSearch = 'coffee and tea'">Coffee & Tea</span>
        <span ng-click="zomato.cuisineSearch = 'coffee and tea'">Coffee & Tea</span>
        <span ng-click="zomato.cuisineSearch = 'coffee and tea'">Coffee & Tea</span>
        <span ng-click="zomato.cuisineSearch = 'coffee and tea'">Coffee & Tea</span>
      </p>
      <button ng-click="zomato.findRestaurantsByCuisine()">Filter</button>
    </div>
    <div class="result" ng-repeat="restaurant in zomato.foundRestaurants"  ng-click="zomato.showRestaurantDetail($index);">
      <p>
        {{restaurant.restaurant.name}}
      </p>
      <p>
        <i class="fa fa-cutlery" aria-hidden="true"></i> {{restaurant.restaurant.cuisines}}
      </p>
      <!-- Conditional ng-if statements: repeat the dollar icon based on .price_range value -->
      <p ng-if="restaurant.restaurant.price_range === 1">
        <i class="fa fa-money" aria-hidden="true"></i>
      </p>
      <p ng-if="restaurant.restaurant.price_range === 2">
        <i class="fa fa-money" aria-hidden="true"></i>
        <i class="fa fa-money" aria-hidden="true"></i>
      </p>
      <p ng-if="restaurant.restaurant.price_range === 3">
        <i class="fa fa-money" aria-hidden="true"></i>
        <i class="fa fa-money" aria-hidden="true"></i>
        <i class="fa fa-money" aria-hidden="true"></i>
      </p>
      <p ng-if="restaurant.restaurant.price_range === 4">
        <i class="fa fa-money" aria-hidden="true"></i>
        <i class="fa fa-money" aria-hidden="true"></i>
        <i class="fa fa-money" aria-hidden="true"></i>
        <i class="fa fa-money" aria-hidden="true"></i>
      </p>
      <p>
        <i class="fa fa-star" aria-hidden="true"></i> {{restaurant.restaurant.user_rating.aggregate_rating}} / {{restaurant.restaurant.user_rating.votes}} votes
      </p>
    </div> <!-- ng-repeat through an array of search results -->
  </div>
  <div id="modal" ng-if="zomato.isViewRestaurantActive" ng-include="'partials/modal.html'"></div>
</section>
